function Guid(t){function e(t,e){if(e=e.replace(/\{|\(|\)|\}|-/g,""),e=e.toLowerCase(),32!=e.length||e.search(/[^0-9,a-f]/i)!=-1)n(t);else for(var a=0;a<e.length;a++)t.push(e[a])}function n(t){for(var e=32;e--;)t.push("0")}function a(t,e){switch(e){case"N":return t.toString().replace(/,/g,"");case"D":var n=t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20,32);return n=n.replace(/,/g,"");case"B":var n=a(t,"D");return n="{"+n+"}";case"P":var n=a(t,"D");return n="("+n+")";default:return new Guid}}var r=new Array;"string"==typeof t?e(r,t):n(r),this.Equals=function(t){return!(!t||!t.IsGuid)&&this.ToString()==t.ToString()},this.IsGuid=function(){},this.ToString=function(t){return"string"==typeof t&&("N"==t||"D"==t||"B"==t||"P"==t)?a(r,t):a(r,"D")}}$(function(){$(".scrolltop").parent().scroll(function(){$(".scrolltop").parent()[0].scrollTop>300?$(".scrolltop").addClass("totop"):$(".scrolltop").removeClass("totop")}),$(".scrolltop").click(function(){$(this).parent()[0].scrollTop=0}),$(".more").click(function(){$(".morelist").toggleClass("item-hidden")})});var cloneDom=function(t){var e={baseDom:null,url:null,data:[],cloneSize:0,page:!1,pageContainer:null},n=this;n.newObj=$.extend(e,t);var a=function(t){return!(!n.newObj.data&&!n.newObj.url)&&(!(!n.newObj.baseDom||n.newObj.cloneSize<1)&&(n.newObj.data[0]?n.newObj.data=!n.newObj.data instanceof Array?[n.newObj.data]:n.newObj.data:n.newObj.url&&$.get(n.newObj.url+"?_="+Math.random(),function(e){n.newObj.data="string"==typeof e?JSON.parse(e):e,t&&"function"==typeof t&&t()}),!0))},r=function(t){t=t||1;var e=n.newObj.cloneSize,a=(t-1)*e,r=t*e-1;if(!n.newObj.data[0])return!1;$(n.newObj.baseDom).not(":first-child").remove();for(var i=a;i<=r;i++)if(n.newObj.data[i]){var o=$(n.newObj.baseDom).eq(0).clone().appendTo($(n.newObj.baseDom).parent());o.data("model",n.newObj.data[i]).data("guid",n.newObj.data[i].guid||Guid.NewGuid().ToString()),$.each($("[dombind]",o),function(t,e){if($(e).attr("dombind").indexOf("*")>-1){var a=1;return $.each($(e).attr("dombind").split("*"),function(t,e){a*=n.newObj.data[i][$.trim(e)]}),$(e).text(a),!0}$(e).is("img")?$(e).attr("src",n.newObj.data[i][$(e).attr("dombind")]):"id"==$(e).attr("dombind")?$(e).attr("href",$(e).attr("href")+"?id="+n.newObj.data[i][$(e).attr("dombind")]):"title"==$(e).attr("dombind")?($(e).attr("title",n.newObj.data[i][$(e).attr("dombind")]),$(e).text(n.newObj.data[i][$(e).attr("dombind")])):"price"==$(e).attr("dombind")?$(e).text("ï¿¥"+n.newObj.data[i][$(e).attr("dombind")]):$(e).text(n.newObj.data[i][$(e).attr("dombind")])})}$(n.newObj.baseDom).eq(0).remove()},i=function(){$(n.newObj.pageContainer).pagination({dataSource:n.newObj.data,pageSize:n.newObj.cloneSize,callback:function(t,e){n.refresh(e.pageNumber)}})};this.refresh=function(t){if(!this.newObj.data[0]&&this.newObj.url)a(function(){r(t),n.newObj.page&&i()});else if(this.newObj.data&&!this.newObj.data instanceof Array){var e=a();e&&(r(t),n.newObj.page&&i())}else this.newObj.data&&this.newObj.data instanceof Array&&r(t)},this.refresh(1)};Guid.Empty=new Guid,Guid.NewGuid=function(){for(var t="",e=32;e--;)t+=Math.floor(16*Math.random()).toString(16);return new Guid(t)};